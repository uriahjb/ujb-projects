%% Computes the forward kinematics for the PUMA260 robot

function t = puma_fk(q)

    %% Define the PUMA260's DH parameters:
    clear L
    L = [];
    L{1} = [ pi/2   0.0	   0	13.0 ]; 
    L{2} = [ 0.0    8.0	   0	-2.5 ];
    L{3} = [ -pi/2  0.0    0	-2.5 ];
    L{4} = [ pi/2   0.0	   0     8.0 ]; 
    L{5} = [ -pi/2  0.0    0     0.0 ];
    L{6} = [ 0.0    0.0    0    7.25 ];
 
    qz = [0, 0, 0, 0, -pi/2, pi]; % zero angled pose.
    
    %% Compute homogeneous forward kinematic transform.
    
    A = [];
    base = eye(4);
    t = base;
    
    for i = 1:length(L)     
        
        % Validated no theta or alpha change. Now just need to enable that.
        A = [
            [cos(L{i}(3) + ) -sin(L{i}(3))*cos(L{i}(1)) sin(L{i}(3))*sin(L{i}(1)) L{i}(2)*cos(L{i}(3))];
            [sin(L{i}(3))  cos(L{i}(3))*cos(L{i}(1)) -cos(L{i}(3))*sin(L{i}(1)) L{i}(2)*sin(L{i}(3))];
            [0             sin(L{i}(1))                         cos(L{i}(1))              L{i}(4)             ];
            [0             0                         0                         1                   ]
            ];
        
        disp(A)
        t = t * A;
    end
    
end